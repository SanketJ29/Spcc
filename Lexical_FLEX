COUNT NO. OF PRINTF AND SCANF

%{
#include<stdio.h>
int pfc=0, sfc=0; %}
%%
"printf" { fprintf(yyout,"writef"); pfc++;}
"scanf" { fprintf(yyout,"readf"); sfc++;}
%%
main(int argc, char *argv[]) {
if(argc!=3){
printf("Usage: ./a.out in.txt out.txt\n");
exit(0); }
yyin=fopen(argv[1],"r");
yyout=fopen(argv[2],"w");
yylex();
printf("No of printf statements = %d\n No of
scanf=%d\n", pfc, sfc); }
int yywrap(){ return 1; }

C program for it:

#include<stdio.h>
int main(){
float num1;
double num2;
printf("1st num");
scanf("%f",&num1);
printf("2nd num");
scanf("%lf",&num2);
printf("num1= %f\n",num1);
printf("num2= %lf\n",num2);
return 0;
}


COUNT WORDS

%{
#include<stdio.h>
int sc=0,wc=0,1c=0,cc=0; %} %%
[\n] { lc++; cc+=yyleng;} [ \t] { sc++; cc+=yyleng;}
[^\t\n ]+ { wc++; cc+=yyleng;} %%
int main(int argc, char* argv[]) {
if (argc > 1) {
FILE *file;
file = fopen(argv[1], "r");
if (!file) {
fprintf(stderr, "Could not open %s\n", argv[1]);
exit(1); }
yyin = file;
yylex();
printf("The number of lines=%d\n",lc);
printf("The number of spaces=%d\n",sc);


COUNT NO. of KEYWORDS, IDENTIFIERS and OPERATOR

%{
#include<stdio.h>
#include<stdlib.h>
int keywords = 0;
int identifiers=0;
int operators=0;
%}
%%
if|else|while|do|for|int|printf|return|main
{keywords++;}
[a-zA-Z][a-zA-Z0-9]* {identifiers++;}
\+\|-|\*|\/|\%|\=|\!= {operators++;}
. ;
%%
int yywrap(void){
return 1;
}
int main(int argc, char** argv){
if(argc>1){
FILE *file;
file=fopen(argv[1], "r");
if(!file) {
fprintf(stderr, "Could not open %s\n",
argv[1]);
exit(1);
}
yyin = file;
}
yylex();
printf("Keywords: %d\nIndentifiers:
%d\nOperators:
%d\n",keywords,identifiers,operators);
return 0;
}

